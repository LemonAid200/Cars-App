(function(){"use strict";var t={4643:function(t,s,a){var e=a(5130),r=a(6768);function o(t,s){const a=(0,r.g2)("router-link"),e=(0,r.g2)("router-view");return(0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.Lk)("nav",null,[(0,r.bF)(a,{to:"/"},{default:(0,r.k6)((()=>[(0,r.eW)("Home")])),_:1})]),(0,r.bF)(e)],64)}var c=a(1241);const n={},i=(0,c.A)(n,[["render",o]]);var l=i,u=a(1387);const m={class:"album py-5 bg-light"},d={class:"container"},p={class:"row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3"};function h(t,s,a,e,o,c){const n=(0,r.g2)("CarCard");return(0,r.uX)(),(0,r.CE)("div",m,[(0,r.Lk)("div",d,[(0,r.Lk)("div",p,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(t.$store.state.cars.carsList,(t=>((0,r.uX)(),(0,r.Wv)(n,{car:t,onViewCar:s=>c.goToCar(t.id),key:t.id},null,8,["car","onViewCar"])))),128))])])])}a(4114);var v=a(4232);const g={class:"col"},f={class:"card shadow-sm"},b=["src"],k={class:"card-body"},L={class:"card-text"},_={class:"d-flex justify-content-between align-items-center"},y={class:"btn-group"},C={class:"text-muted"};function w(t,s,a,e,o,c){return(0,r.uX)(),(0,r.CE)("div",g,[(0,r.Lk)("div",f,[(0,r.Lk)("img",{class:"bd-placeholder-img card-img-top",width:"100%",height:"225",src:a.car.thumbnail,role:"img","aria-label":"Placeholder: Thumbnail",focusable:"false"},null,8,b),(0,r.Lk)("div",k,[(0,r.Lk)("p",L,(0,v.v_)(a.car.brand_name)+" "+(0,v.v_)(a.car.model_name),1),(0,r.Lk)("div",_,[(0,r.Lk)("div",y,[(0,r.Lk)("button",{type:"button",class:"btn btn-sm btn-outline-secondary",onClick:s[0]||(s[0]=s=>t.$emit("viewCar"))},"View")]),(0,r.Lk)("small",C,(0,v.v_)(a.car.year),1)])])])])}var D={props:{car:{type:Object,required:!0}}};const U=(0,c.A)(D,[["render",w]]);var P=U,$=a(782),N={name:"HomeView",components:{CarCard:P},data(){},methods:{...(0,$.i0)({fetchCarsList:"cars/fetchCarsList"}),goToCar(t){this.$router.push({name:"car",params:{id:t}})}},mounted(){0===this.$store.state.cars.carsList.length&&this.fetchCarsList()}};const T=(0,c.A)(N,[["render",h]]);var x=T;const O={key:0,class:"car_wrapper"},I={class:"car"},S=["src"],j={class:"user"},A={class:"user_info"},E={class:"user_info__carName"},X={class:"user_info__carModel"},F=(0,r.Lk)("div",{class:"user_info__city"},null,-1),M={class:"car_posts"},V={class:"album py-5 bg-light"},K={class:"container"},W={class:"row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3"};function q(t,s,a,e,o,c){const n=(0,r.g2)("UserTag"),i=(0,r.g2)("PostCard");return 0!==Object.keys(t.$store.state.cars.carData).length?((0,r.uX)(),(0,r.CE)("div",O,[(0,r.Lk)("div",I,[(0,r.Lk)("h2",null,(0,v.v_)(t.carModel),1),(0,r.Lk)("img",{class:"car_img",src:t.carImage,alt:""},null,8,S),(0,r.Lk)("div",j,[(0,r.bF)(n,{imgUrl:t.user.avatar.url,userName:t.user.username,carName:t.user.main_auto_name},null,8,["imgUrl","userName","carName"]),(0,r.Lk)("div",A,[(0,r.Lk)("div",E,[(0,r.Lk)("b",null,(0,v.v_)(t.carModel),1)]),(0,r.Lk)("div",X,(0,v.v_)(t.carSpecs),1),F])])]),(0,r.Lk)("div",M,[(0,r.Lk)("div",V,[(0,r.Lk)("div",K,[(0,r.Lk)("div",W,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(t.$store.state.posts.postsList.posts,(t=>((0,r.uX)(),(0,r.Wv)(i,{post:t,onViewPost:s=>c.goToPost(t.id),key:t.id},null,8,["post","onViewPost"])))),128))])])])])])):(0,r.Q3)("",!0)}const B={class:"user_head"},H=["src"],Q={class:"user_head__name"},z={class:"user_head__carName"};function G(t,s,a,e,o,c){return(0,r.uX)(),(0,r.CE)("div",B,[(0,r.Lk)("img",{src:a.imgUrl,alt:"avatar"},null,8,H),(0,r.Lk)("div",Q,[(0,r.Lk)("b",null,(0,v.v_)(a.userName),1)]),(0,r.Lk)("div",z,(0,v.v_)(a.carName),1)])}var J={name:"UserTag",props:{imgUrl:String,userName:String,carName:String}};const R=(0,c.A)(J,[["render",G]]);var Y=R;const Z={class:"col"},tt={class:"card shadow-sm"},st=["src"],at={class:"user_tag"},et={class:"card-body"},rt={class:"card-text"},ot={class:"d-flex justify-content-between align-items-center"},ct={class:"btn-group"},nt={class:"text-muted"};function it(t,s,a,e,o,c){const n=(0,r.g2)("UserTag");return(0,r.uX)(),(0,r.CE)("div",Z,[(0,r.Lk)("div",tt,[(0,r.Lk)("img",{class:"bd-placeholder-img card-img-top",width:"100%",height:"225",src:a.post.img,role:"img","aria-label":"Placeholder: Thumbnail",focusable:"false"},null,8,st),(0,r.Lk)("div",at,[(0,r.bF)(n,{imgUrl:a.post.author.avatar.url,userName:a.post.author.username,carName:a.post.author.main_auto_name},null,8,["imgUrl","userName","carName"])]),(0,r.Lk)("div",et,[(0,r.Lk)("p",rt,(0,v.v_)(a.post.text),1),(0,r.Lk)("div",ot,[(0,r.Lk)("div",ct,[(0,r.Lk)("button",{type:"button",class:"btn btn-sm btn-outline-secondary",onClick:s[0]||(s[0]=s=>t.$emit("viewPost"))},"View")]),(0,r.Lk)("small",nt,(0,v.v_)(a.post.date),1)])])])])}var lt={components:{UserTag:Y},props:{post:{type:Object,required:!0}}};const ut=(0,c.A)(lt,[["render",it]]);var mt=ut,dt={name:"CarView",components:{PostCard:mt,UserTag:Y},data(){return{carId:49}},computed:{...(0,$.L8)({carSpecs:"cars/carSpecs",carModel:"cars/carModel",carImage:"cars/carImage",user:"cars/carUser"})},methods:{...(0,$.i0)({fetchCar:"cars/fetchCar",fetchPosts:"posts/fetchPostsList"}),goToPost(t){this.$router.push({name:"post",params:{id:t}})}},mounted(){this.$route.params.id&&this.$route.params.id!=this.carId?(this.carId=this.$route.params.id,this.fetchCar(this.carId),this.fetchPosts(this.carId)):0===Object.keys(this.$store.state.cars.carData).length&&(this.fetchCar(this.carId),this.fetchPosts(this.carId))}};const pt=(0,c.A)(dt,[["render",q]]);var ht=pt;const vt={key:0,class:"post"},gt=["src"],ft={class:"user"},bt={class:"post_text"},kt={class:"post_comments"};function Lt(t,s,a,e,o,c){const n=(0,r.g2)("UserTag"),i=(0,r.g2)("Comment");return 0!==Object.keys(t.$store.state.posts.postData).length?((0,r.uX)(),(0,r.CE)("div",vt,[(0,r.Lk)("h2",null,(0,v.v_)(t.$store.state.posts.postData.post.user.main_auto_name),1),(0,r.Lk)("img",{class:"post-img",src:t.$store.state.posts.postData.post.img,alt:""},null,8,gt),(0,r.Lk)("div",ft,[(0,r.bF)(n,{imgUrl:t.$store.state.posts.postData.post.user.avatar.url,userName:t.$store.state.posts.postData.post.user.username,carName:t.$store.state.posts.postData.post.user.main_auto_name},null,8,["imgUrl","userName","carName"]),(0,r.Lk)("p",bt,(0,v.v_)(t.$store.state.posts.postData.post.text),1)]),(0,r.Lk)("div",kt,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(t.$store.state.posts.postData.comments,(t=>((0,r.uX)(),(0,r.Wv)(i,{Avatar:t.user.avatar.url,UserName:t.user.username,Text:t.text,UsersCar:t.user.main_auto_name,Date:t.created_at,key:t.id},null,8,["Avatar","UserName","Text","UsersCar","Date"])))),128))])])):(0,r.Q3)("",!0)}const _t={class:"comment"},yt={class:"comment_text"};function Ct(t,s,a,e,o,c){const n=(0,r.g2)("UserTag");return(0,r.uX)(),(0,r.CE)("div",_t,[(0,r.bF)(n,{imgUrl:a.Avatar,carName:a.UsersCar,userName:a.UserName},null,8,["imgUrl","carName","userName"]),(0,r.Lk)("p",yt,(0,v.v_)(a.Text),1)])}var wt={name:"Comment",props:{UserName:String,UsersCar:String,Avatar:String,Date:String,Text:String},components:{UserTag:Y}};const Dt=(0,c.A)(wt,[["render",Ct]]);var Ut=Dt,Pt={name:"PostView",components:{UserTag:Y,Comment:Ut},data(){return{postId:563}},methods:{...(0,$.i0)({fetchPost:"posts/fetchPost"})},mounted(){this.$route.params.id?(this.postId=this.$route.params.id,this.fetchPost(this.postId)):0===Object.keys(this.$store.state.posts.postData).length&&this.fetchPost(this.postId)}};const $t=(0,c.A)(Pt,[["render",Lt]]);var Nt=$t;const Tt=[{path:"/",name:"home",component:x},{path:"/car/:id?",name:"car",component:ht},{path:"/post/:id?",name:"post",component:Nt}],xt=(0,u.aE)({history:(0,u.Bt)(),routes:Tt,scrollBehavior(t,s,a){return{top:0}}});var Ot=xt,It=a(4373);const St={state:()=>({carsList:[],carData:{}}),getters:{carSpecs(t){return t.carData.car.engine+" "+t.carData.car.transmission_name+" Â· "+t.carData.car.year},carModel(t){return t.carData.car.brand_name+" "+t.carData.car.model_name},carImage(t){return t.carData.car.images[0].thumbnail_url},carUser(t){return t.carData.user}},mutations:{setCarsList(t,s){t.carsList=s},setCarData(t,s){t.carData=s}},actions:{async fetchCarsList({state:t,commit:s}){try{const t=await It.A.get("https://am111.05.testing.place/api/v1/cars/list");s("setCarsList",t.data)}catch(a){console.error(a)}},async fetchCar({state:t,commit:s},a){try{const t=await It.A.get(`https://am111.05.testing.place/api/v1/car/${a}`);s("setCarData",t.data)}catch(e){console.error(e)}}},namespaced:!0},jt={state:()=>({postsList:[],postData:{}}),mutations:{setPostsList(t,s){t.postsList=s},setPostData(t,s){t.postData=s}},actions:{async fetchPostsList({commit:t},s){try{const a=await It.A.get(`https://am111.05.testing.place/api/v1/car/${s}/posts`);t("setPostsList",a.data)}catch(a){console.error(a)}},async fetchPost({commit:t},s){try{const a=await It.A.get(`https://am111.05.testing.place/api/v1/post/${s}`);t("setPostData",a.data)}catch(a){console.error(a)}}},namespaced:!0};var At=(0,$.y$)({modules:{cars:St,posts:jt}});a(5707);(0,e.Ef)(l).use(At).use(Ot).mount("#app")}},s={};function a(e){var r=s[e];if(void 0!==r)return r.exports;var o=s[e]={exports:{}};return t[e].call(o.exports,o,o.exports,a),o.exports}a.m=t,function(){var t=[];a.O=function(s,e,r,o){if(!e){var c=1/0;for(u=0;u<t.length;u++){e=t[u][0],r=t[u][1],o=t[u][2];for(var n=!0,i=0;i<e.length;i++)(!1&o||c>=o)&&Object.keys(a.O).every((function(t){return a.O[t](e[i])}))?e.splice(i--,1):(n=!1,o<c&&(c=o));if(n){t.splice(u--,1);var l=r();void 0!==l&&(s=l)}}return s}o=o||0;for(var u=t.length;u>0&&t[u-1][2]>o;u--)t[u]=t[u-1];t[u]=[e,r,o]}}(),function(){a.n=function(t){var s=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(s,{a:s}),s}}(),function(){a.d=function(t,s){for(var e in s)a.o(s,e)&&!a.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:s[e]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={524:0};a.O.j=function(s){return 0===t[s]};var s=function(s,e){var r,o,c=e[0],n=e[1],i=e[2],l=0;if(c.some((function(s){return 0!==t[s]}))){for(r in n)a.o(n,r)&&(a.m[r]=n[r]);if(i)var u=i(a)}for(s&&s(e);l<c.length;l++)o=c[l],a.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return a.O(u)},e=self["webpackChunktest31"]=self["webpackChunktest31"]||[];e.forEach(s.bind(null,0)),e.push=s.bind(null,e.push.bind(e))}();var e=a.O(void 0,[504],(function(){return a(4643)}));e=a.O(e)})();
//# sourceMappingURL=app.feed2d9e.js.map