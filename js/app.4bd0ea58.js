(function(){"use strict";var t={5288:function(t,a,s){var e=s(5130),r=s(6768);function o(t,a){const s=(0,r.g2)("router-link"),e=(0,r.g2)("router-view");return(0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.Lk)("nav",null,[(0,r.bF)(s,{to:"/"},{default:(0,r.k6)((()=>[(0,r.eW)("Home")])),_:1}),(0,r.eW)(" | "),(0,r.bF)(s,{to:"/car"},{default:(0,r.k6)((()=>[(0,r.eW)("Car")])),_:1}),(0,r.eW)(" | "),(0,r.bF)(s,{to:"/post"},{default:(0,r.k6)((()=>[(0,r.eW)("Post")])),_:1})]),(0,r.bF)(e)],64)}var c=s(1241);const n={},i=(0,c.A)(n,[["render",o]]);var l=i,u=s(1387);const m={class:"album py-5 bg-light"},d={class:"container"},p={class:"row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3"};function h(t,a,s,e,o,c){const n=(0,r.g2)("CarCard");return(0,r.uX)(),(0,r.CE)("div",m,[(0,r.Lk)("div",d,[(0,r.Lk)("div",p,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(t.$store.state.cars.carsList,(t=>((0,r.uX)(),(0,r.Wv)(n,{car:t,onViewCar:a=>c.goToCar(t.id),key:t.id},null,8,["car","onViewCar"])))),128))])])])}s(4114);var v=s(4232);const g={class:"col"},f={class:"card shadow-sm"},b=["src"],k={class:"card-body"},L={class:"card-text"},_={class:"d-flex justify-content-between align-items-center"},y={class:"btn-group"},C={class:"text-muted"};function w(t,a,s,e,o,c){return(0,r.uX)(),(0,r.CE)("div",g,[(0,r.Lk)("div",f,[(0,r.Lk)("img",{class:"bd-placeholder-img card-img-top",width:"100%",height:"225",src:s.car.thumbnail,role:"img","aria-label":"Placeholder: Thumbnail",focusable:"false"},null,8,b),(0,r.Lk)("div",k,[(0,r.Lk)("p",L,(0,v.v_)(s.car.brand_name)+" "+(0,v.v_)(s.car.model_name),1),(0,r.Lk)("div",_,[(0,r.Lk)("div",y,[(0,r.Lk)("button",{type:"button",class:"btn btn-sm btn-outline-secondary",onClick:a[0]||(a[0]=a=>t.$emit("viewCar"))},"View")]),(0,r.Lk)("small",C,(0,v.v_)(s.car.year),1)])])])])}var D={props:{car:{type:Object,required:!0}}};const P=(0,c.A)(D,[["render",w]]);var U=P,$=s(782),N={name:"HomeView",components:{CarCard:U},data(){},methods:{...(0,$.i0)({fetchCarsList:"cars/fetchCarsList"}),goToCar(t){this.$router.push({name:"car",params:{id:t}})}},mounted(){0===this.$store.state.cars.carsList.length&&this.fetchCarsList()}};const T=(0,c.A)(N,[["render",h]]);var x=T;const O={key:0,class:"car_wrapper"},I={class:"car"},S=["src"],j={class:"user"},A={class:"user_info"},E={class:"user_info__carName"},X={class:"user_info__carModel"},F=(0,r.Lk)("div",{class:"user_info__city"},null,-1),M={class:"car_posts"},V={class:"album py-5 bg-light"},W={class:"container"},K={class:"row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3"};function q(t,a,s,e,o,c){const n=(0,r.g2)("UserTag"),i=(0,r.g2)("PostCard");return 0!==Object.keys(t.$store.state.cars.carData).length?((0,r.uX)(),(0,r.CE)("div",O,[(0,r.Lk)("div",I,[(0,r.Lk)("h2",null,(0,v.v_)(t.carModel),1),(0,r.Lk)("img",{class:"car_img",src:t.carImage,alt:""},null,8,S),(0,r.Lk)("div",j,[(0,r.bF)(n,{imgUrl:t.user.avatar.url,userName:t.user.username,carName:t.user.main_auto_name},null,8,["imgUrl","userName","carName"]),(0,r.Lk)("div",A,[(0,r.Lk)("div",E,[(0,r.Lk)("b",null,(0,v.v_)(t.carModel),1)]),(0,r.Lk)("div",X,(0,v.v_)(t.carSpecs),1),F])])]),(0,r.Lk)("div",M,[(0,r.Lk)("div",V,[(0,r.Lk)("div",W,[(0,r.Lk)("div",K,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(t.$store.state.posts.postsList.posts,(t=>((0,r.uX)(),(0,r.Wv)(i,{post:t,onViewPost:a=>c.goToPost(t.id),key:t.id},null,8,["post","onViewPost"])))),128))])])])])])):(0,r.Q3)("",!0)}const B={class:"user_head"},H=["src"],Q={class:"user_head__name"},z={class:"user_head__carName"};function G(t,a,s,e,o,c){return(0,r.uX)(),(0,r.CE)("div",B,[(0,r.Lk)("img",{src:s.imgUrl,alt:"avatar"},null,8,H),(0,r.Lk)("div",Q,[(0,r.Lk)("b",null,(0,v.v_)(s.userName),1)]),(0,r.Lk)("div",z,(0,v.v_)(s.carName),1)])}var J={name:"UserTag",props:{imgUrl:String,userName:String,carName:String}};const R=(0,c.A)(J,[["render",G]]);var Y=R;const Z={class:"col"},tt={class:"card shadow-sm"},at=["src"],st={class:"user_tag"},et={class:"card-body"},rt={class:"card-text"},ot={class:"d-flex justify-content-between align-items-center"},ct={class:"btn-group"},nt={class:"text-muted"};function it(t,a,s,e,o,c){const n=(0,r.g2)("UserTag");return(0,r.uX)(),(0,r.CE)("div",Z,[(0,r.Lk)("div",tt,[(0,r.Lk)("img",{class:"bd-placeholder-img card-img-top",width:"100%",height:"225",src:s.post.img,role:"img","aria-label":"Placeholder: Thumbnail",focusable:"false"},null,8,at),(0,r.Lk)("div",st,[(0,r.bF)(n,{imgUrl:s.post.author.avatar.url,userName:s.post.author.username,carName:s.post.author.main_auto_name},null,8,["imgUrl","userName","carName"])]),(0,r.Lk)("div",et,[(0,r.Lk)("p",rt,(0,v.v_)(s.post.text),1),(0,r.Lk)("div",ot,[(0,r.Lk)("div",ct,[(0,r.Lk)("button",{type:"button",class:"btn btn-sm btn-outline-secondary",onClick:a[0]||(a[0]=a=>t.$emit("viewPost"))},"View")]),(0,r.Lk)("small",nt,(0,v.v_)(s.post.date),1)])])])])}var lt={components:{UserTag:Y},props:{post:{type:Object,required:!0}}};const ut=(0,c.A)(lt,[["render",it]]);var mt=ut,dt={name:"CarView",components:{PostCard:mt,UserTag:Y},data(){return{carId:49}},computed:{...(0,$.L8)({carSpecs:"cars/carSpecs",carModel:"cars/carModel",carImage:"cars/carImage",user:"cars/carUser"})},methods:{...(0,$.i0)({fetchCar:"cars/fetchCar",fetchPosts:"posts/fetchPostsList"}),goToPost(t){this.$router.push({name:"post",params:{id:t}})}},mounted(){this.$route.params.id&&this.$route.params.id!=this.carId?(this.carId=this.$route.params.id,this.fetchCar(this.carId),this.fetchPosts(this.carId)):0===Object.keys(this.$store.state.cars.carData).length&&(this.fetchCar(this.carId),this.fetchPosts(this.carId))}};const pt=(0,c.A)(dt,[["render",q]]);var ht=pt;const vt={key:0,class:"post"},gt=["src"],ft={class:"user"},bt={class:"post_text"},kt={class:"post_comments"};function Lt(t,a,s,e,o,c){const n=(0,r.g2)("UserTag"),i=(0,r.g2)("Comment");return 0!==Object.keys(t.$store.state.posts.postData).length?((0,r.uX)(),(0,r.CE)("div",vt,[(0,r.Lk)("h2",null,(0,v.v_)(t.$store.state.posts.postData.post.user.main_auto_name),1),(0,r.Lk)("img",{src:t.$store.state.posts.postData.post.img,alt:""},null,8,gt),(0,r.Lk)("div",ft,[(0,r.bF)(n,{imgUrl:t.$store.state.posts.postData.post.user.avatar.url,userName:t.$store.state.posts.postData.post.user.username,carName:t.$store.state.posts.postData.post.user.main_auto_name},null,8,["imgUrl","userName","carName"]),(0,r.Lk)("p",bt,(0,v.v_)(t.$store.state.posts.postData.post.text),1)]),(0,r.Lk)("div",kt,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(t.$store.state.posts.postData.comments,(t=>((0,r.uX)(),(0,r.Wv)(i,{Avatar:t.user.avatar.url,UserName:t.user.username,Text:t.text,UsersCar:t.user.main_auto_name,Date:t.created_at,key:t.id},null,8,["Avatar","UserName","Text","UsersCar","Date"])))),128))])])):(0,r.Q3)("",!0)}const _t={class:"comment"},yt={class:"comment_text"};function Ct(t,a,s,e,o,c){const n=(0,r.g2)("UserTag");return(0,r.uX)(),(0,r.CE)("div",_t,[(0,r.bF)(n,{imgUrl:s.Avatar,carName:s.UsersCar,userName:s.UserName},null,8,["imgUrl","carName","userName"]),(0,r.Lk)("p",yt,(0,v.v_)(s.Text),1)])}var wt={name:"Comment",props:{UserName:String,UsersCar:String,Avatar:String,Date:String,Text:String},components:{UserTag:Y}};const Dt=(0,c.A)(wt,[["render",Ct]]);var Pt=Dt,Ut={name:"PostView",components:{UserTag:Y,Comment:Pt},data(){return{postId:563}},methods:{...(0,$.i0)({fetchPost:"posts/fetchPost"})},mounted(){this.$route.params.id?(this.postId=this.$route.params.id,this.fetchPost(this.postId)):0===Object.keys(this.$store.state.posts.postData).length&&this.fetchPost(this.postId)}};const $t=(0,c.A)(Ut,[["render",Lt]]);var Nt=$t;const Tt=[{path:"/",name:"home",component:x},{path:"/car/:id?",name:"car",component:ht},{path:"/post/:id?",name:"post",component:Nt}],xt=(0,u.aE)({history:(0,u.Bt)(),routes:Tt,scrollBehavior(t,a,s){return{top:0}}});var Ot=xt,It=s(4373);const St={state:()=>({carsList:[],carData:{}}),getters:{carSpecs(t){return t.carData.car.engine+" "+t.carData.car.transmission_name+" Â· "+t.carData.car.year},carModel(t){return t.carData.car.brand_name+" "+t.carData.car.model_name},carImage(t){return t.carData.car.images[0].thumbnail_url},carUser(t){return t.carData.user}},mutations:{setCarsList(t,a){t.carsList=a},setCarData(t,a){t.carData=a}},actions:{async fetchCarsList({state:t,commit:a}){try{const t=await It.A.get("https://am111.05.testing.place/api/v1/cars/list");a("setCarsList",t.data)}catch(s){console.error(s)}},async fetchCar({state:t,commit:a},s){try{const t=await It.A.get(`https://am111.05.testing.place/api/v1/car/${s}`);a("setCarData",t.data)}catch(e){console.error(e)}}},namespaced:!0},jt={state:()=>({postsList:[],postData:{}}),mutations:{setPostsList(t,a){t.postsList=a},setPostData(t,a){t.postData=a}},actions:{async fetchPostsList({commit:t},a){try{const s=await It.A.get(`https://am111.05.testing.place/api/v1/car/${a}/posts`);t("setPostsList",s.data)}catch(s){console.error(s)}},async fetchPost({commit:t},a){try{const s=await It.A.get(`https://am111.05.testing.place/api/v1/post/${a}`);t("setPostData",s.data)}catch(s){console.error(s)}}},namespaced:!0};var At=(0,$.y$)({modules:{cars:St,posts:jt}});s(5707);(0,e.Ef)(l).use(At).use(Ot).mount("#app")}},a={};function s(e){var r=a[e];if(void 0!==r)return r.exports;var o=a[e]={exports:{}};return t[e].call(o.exports,o,o.exports,s),o.exports}s.m=t,function(){var t=[];s.O=function(a,e,r,o){if(!e){var c=1/0;for(u=0;u<t.length;u++){e=t[u][0],r=t[u][1],o=t[u][2];for(var n=!0,i=0;i<e.length;i++)(!1&o||c>=o)&&Object.keys(s.O).every((function(t){return s.O[t](e[i])}))?e.splice(i--,1):(n=!1,o<c&&(c=o));if(n){t.splice(u--,1);var l=r();void 0!==l&&(a=l)}}return a}o=o||0;for(var u=t.length;u>0&&t[u-1][2]>o;u--)t[u]=t[u-1];t[u]=[e,r,o]}}(),function(){s.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(a,{a:a}),a}}(),function(){s.d=function(t,a){for(var e in a)s.o(a,e)&&!s.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:a[e]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)}}(),function(){s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={524:0};s.O.j=function(a){return 0===t[a]};var a=function(a,e){var r,o,c=e[0],n=e[1],i=e[2],l=0;if(c.some((function(a){return 0!==t[a]}))){for(r in n)s.o(n,r)&&(s.m[r]=n[r]);if(i)var u=i(s)}for(a&&a(e);l<c.length;l++)o=c[l],s.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return s.O(u)},e=self["webpackChunktest31"]=self["webpackChunktest31"]||[];e.forEach(a.bind(null,0)),e.push=a.bind(null,e.push.bind(e))}();var e=s.O(void 0,[504],(function(){return s(5288)}));e=s.O(e)})();
//# sourceMappingURL=app.4bd0ea58.js.map